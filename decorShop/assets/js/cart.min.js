function prikaziKorpu(){let t=proizvodiUKorpi();$.ajax({url:"assets/data/products.json",success:function(e){ispisiTabelu(e=e.filter(e=>{for(let i of t)if(e.id==i.id)return e.kolicina=i.kolicina,!0;return!1}))},error:function(t,e,i){alert(i)}})}function ispisiTabelu(t){var e=0;let i='<h1 class="text-center mt-5">Your shopping cart</h1>\n        <table class="table table-striped mt-5 mb-5 table-responsive">\n        <thead>\n          <tr>\n            <th scope="col" class="text-center">Product ID</th>\n            <th scope="col" class="text-center">Product</th>\n            <th scope="col" class="text-center">Product Name</th>\n            <th scope="col" class="text-center">Base Price</th>\n            <th scope="col" class="text-center">Quantity</th>\n            <th scope="col" class="text-center">Price</th>\n            <th scope="col" class="text-center">Remove item</th>\n          </tr>\n        </thead>\n        <tbody>';for(let o of t)i+=n(o),e+=o.cena.novaCena*o.kolicina;function n(t){return`<tr>\n            <th scope="row" class="text-center">${t.id}</th>\n            <td class="text-center">\n                <img src="${t.slika.src}" alt="${t.slika.alt}" class="img-fluid">\n            </td>\n            <td class="text-center">${t.naziv}</td>\n            <td class="text-center">$${t.cena.novaCena}</td>\n            <td class="text-center"><i class="fas fa-plus mb-3" onclick='povecajKolicinu(${t.id})'></i><br>${t.kolicina}<br><i class="fas fa-minus mt-3" onclick='smanjiKolicinu(${t.id})'></i></td>\n            <td class="text-center">$${Math.round(t.cena.novaCena*t.kolicina*100)/100}</td>\n            <td class="text-center"><i class="fas fa-trash" onclick='obrisiIzKorpe(${t.id})'></i></td>\n          </tr>`}i+=`<tr scope="col" class="text-right">\n                    <td colspan="7">Total price : $${Math.round(100*e)/100}</td>\n                    </tr>\n                </tbody>\n                </table>`,document.getElementById("tabelaSadrzaj").innerHTML=i}function proizvodiUKorpi(){return JSON.parse(localStorage.getItem("products"))}function praznaKorpa(){document.getElementById("tabelaSadrzaj").innerHTML+="<h1 class='text-center'>Your shopping cart<br> is empty!</h1>"}function obrisiIzKorpe(t){let e=proizvodiUKorpi().filter(e=>e.id!=t);localStorage.setItem("products",JSON.stringify(e)),prikaziKorpu()}function povecajKolicinu(t){let e=proizvodiUKorpi();for(let i in e)if(e[i].id==t){e[i].kolicina++;break}localStorage.setItem("products",JSON.stringify(e)),prikaziKorpu()}function smanjiKolicinu(t){let e=proizvodiUKorpi();for(let i in e)if(e[i].id==t){if(0==e[i].kolicina)break;e[i].kolicina--;break}localStorage.setItem("products",JSON.stringify(e)),prikaziKorpu()}$(document).ready(function(){proizvodiUKorpi().length?prikaziKorpu():praznaKorpa()});