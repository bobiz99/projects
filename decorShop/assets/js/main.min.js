$(document).ready(function(){prikazSlidera(),dohvatiShippingIkonice(),showCategories(),prikaziSveProizvode(),dohvatiVrsteProizvoda(),$(".dropdown-item").click(sortiranjeProizvoda);var i=[];for(let e=2020;e>1929;e--)i.push(e);var e="<select id='godina'>";e+="<option>Year</option>";for(let a in i)e+="<option>"+i[a]+"</option>";e+="</select>",document.getElementById("ddlYear").innerHTML=e;var a=[];for(let i=12;i>0;i--)a.push(i);var n="<select id='mesec'>";n+="<option>Month</option>";for(let i in a)n+="<option>"+a[i]+"</option>";n+="</select>",document.getElementById("ddlMonth").innerHTML=n;var t=[];for(let i=31;i>0;i--)t.push(i);var r="<select id='dan'>";r+="<option>Day</option>";for(let i in t)r+="<option>"+t[i]+"</option>";r+="</select>",document.getElementById("ddlDay").innerHTML=r}),$("#btnProveri").click(function(i){i.preventDefault();var e=document.getElementById("ime").value.trim(),a=document.getElementById("prezime").value.trim(),n=document.getElementById("email").value.trim(),t=document.getElementById("godina").value,r=document.getElementById("mesec").value,s=document.getElementById("dan").value,o=document.getElementById("message").value.trim(),d=document.getElementById("firstNameError"),l=document.getElementById("lastNameError"),c=document.getElementById("emailError"),v=document.getElementById("godineError"),m=document.getElementById("meseciError"),u=document.getElementById("daniError"),p=document.getElementById("msgError"),f=new RegExp("^[A-Z][a-z]{2,15}$"),g=new RegExp("^[A-Z][a-z]{2,15}$"),E=new RegExp("^[a-z]+[.-_!a-zd]*@[a-z]{2,10}(.[a-z]{2,3}){1,2}$"),h=new RegExp('^[A-Za-z0-9" *".!?-]{5,1000}$');""==e?($("#firstNameError").addClass("displayError"),d.innerHTML="This field is required!",$("#ime").addClass("is-invalid")):f.test(e)?($("#firstNameError").removeClass("displayError"),d.innerHTML="",$("#ime").removeClass("is-invalid"),$("#ime").addClass("is-valid")):($("#firstNameError").addClass("displayError"),d.innerHTML="Enter valid name!",$("#ime").addClass("is-invalid")),""==a?($("#lastNameError").addClass("displayError"),l.innerHTML="This field is required!",$("#prezime").addClass("is-invalid")):g.test(a)?($("#lastNameError").removeClass("displayError"),l.innerHTML="",$("#prezime").removeClass("is-invalid"),$("#prezime").addClass("is-valid")):($("#lastNameError").addClass("displayError"),l.innerHTML="Enter valid lastname!",$("#prezime").addClass("is-invalid")),""==n?($("#emailError").addClass("displayError"),c.innerHTML="This field is required!",$("#email").addClass("is-invalid")):E.test(n)?($("#emailError").removeClass("displayError"),c.innerHTML="",$("#email").removeClass("is-invalid"),$("#email").addClass("is-valid")):($("#emailError").addClass("displayError"),c.innerHTML="Enter valid email!",$("#email").addClass("is-invalid")),"Year"==t?(v.classList.add("displayError"),$("#ddlYear").addClass("is-invalid"),v.innerHTML="Enter valid year!"):(v.classList.remove("displayError"),$("#ddlYear").removeClass("is-invalid"),$("#ddlYear").addClass("is-valid"),v.innerHTML="",console.log("Izabrana godina")),"Month"==r?(m.classList.add("displayError"),$("#ddlMonth").addClass("is-invalid"),m.innerHTML="Enter valid month!"):(m.classList.remove("displayError"),$("#ddlMonth").removeClass("is-invalid"),$("#ddlMonth").addClass("is-valid"),m.innerHTML="",console.log("Izabran mesec")),"Day"==s?(u.classList.add("displayError"),$("#ddlDay").addClass("is-invalid"),u.innerHTML="Enter valid day!"):(u.classList.remove("displayError"),$("#ddlDay").removeClass("is-invalid"),$("#ddlDay").addClass("is-valid"),u.innerHTML="",console.log("Izabran dan")),""==o?($("#msgError").addClass("displayError"),p.innerHTML="This field is required!",$("#message").removeClass("msgValid"),$("#message").addClass("msgInvalid")):h.test(o)?($("#msgError").removeClass("displayError"),p.innerHTML="",$("#message").removeClass("msgInvalid"),$("#message").addClass("msgValid")):($("#msgError").addClass("displayError"),p.innerHTML="Enter valid message!",$("#message").removeClass("msgValid"),$("#message").addClass("msgInvalid"))}),$(function(){var i=$(".box");$("#btnMeni, .header-menu").on("click",function(){i.toggleClass("activeBox")})});var i=0;function prikazSlidera(){$.ajax({url:"assets/data/sliderSlike.json",method:"GET",type:"json",success:function(e){!function(e){document.getElementById("slider").style.backgroundImage="url('"+e[i].src+"')",document.getElementById("naslovSlider").innerHTML=e[i].naslov,i<e.length-1?i++:i=0;setTimeout("prikazSlidera()",2500)}(e)},error:function(i,e,a){alert(a)}})}function dohvatiShippingIkonice(){$.ajax({url:"assets/data/shippingIkonica.json",method:"GET",type:"json",success:function(i){prikazShippingIkonica(i)},error:function(i,e,a){alert(a)}})}function prikazShippingIkonica(i){document.getElementById("contentShipping").innerHTML=function(){let e="";for(let a of i)e+=`<div class="col-sm-12 col-md-6 col-lg-3 pt-5">\n          <div class="row mb-5 margineRow">\n            <div class="col-6 d-flex align-items-center justify-content-end">\n              <i class="${a.klasa} velicinaTextaShipping"></i>\n            </div>\n            <div class="col-6 text-left">\n              <p><b>${a.tekst1}</b></p>\n              <p>${a.tekst2}</p>\n            </div>\n          </div>\n        </div>`;return e}()}function showCategories(){$.ajax({url:"assets/data/categories.json",method:"GET",type:"json",success:function(i){showImageCategories(i),ispisiKategorije(i)}})}function showImageCategories(i){document.getElementById("gallery").innerHTML=function(){let e="";for(let a of i)e+=kolonaSlika(a);return e}()}function ispisiKategorije(i){document.getElementById("kategorije").innerHTML+=function(){let e="";for(let a of i)e+=`<li class="control filter" data-id="${a.id}">${a.naziv}</li>`;return e}(),$(".filter").click(filtrirajPoKategoriji)}function filtrirajPoKategoriji(){let i=$(this).data("id");dohvatiProizvode(function(e){ispisiProizvode("all"==i?e:e=filtrirajKategorija(e,i))})}function filtrirajKategorija(i,e){return i.filter(i=>i.kategorija.id==e)}function filtrirajPoVrstiProizvoda(i){let e=$(this).data("id");dohvatiProizvode(function(i){ispisiProizvode(i=filtrirajVrsta(i,e))})}function filtrirajVrsta(i,e){return i.filter(i=>i.vrstaProizvoda.id==e)}function dohvatiVrsteProizvoda(){$.ajax({url:"assets/data/vrsteProizvoda.json",method:"GET",type:"json",success:function(i){ispisiVrsteProizvoda(i)}})}function ispisiVrsteProizvoda(i){document.getElementById("vrsteProizvoda").innerHTML=function(){let e="";for(let a of i)e+=`<li class="control vrsta" data-filter=".new" data-id="${a.id}">${a.naziv}</li>`;return e}(),$(".vrsta").click(filtrirajPoVrstiProizvoda)}function dohvatiProizvode(i){$.ajax({url:"assets/data/products.json",method:"GET",success:i})}function prikaziSveProizvode(){dohvatiProizvode(function(i){ispisiProizvode(i)})}function ispisiProizvode(i){$("#product-filter").html(function(){let e="";if(i.length>0)for(let a of i)a.new?e+=ispisNovogProizvoda(a):a.sale?e+=ispisSaleProizvoda(a):e+=ispisNormalProizvoda(a);else e+='<h3 class="display-3 text-center mb-5">No products!</h3>';return e}),dodajCartEvent()}function sortiranjeProizvoda(i){i.preventDefault();let e=$(this).data("sort"),a=$(this).data("order");dohvatiProizvode(function(i){sortiraj(i,e,a),ispisiProizvode(i)})}function sortiraj(i,e,a){i.sort(function(i,n){let t="cena"==e?i.cena.novaCena:i.naziv,r="cena"==e?n.cena.novaCena:n.naziv;return t>r?"asc"==a?1:-1:t<r?"asc"==a?-1:1:0})}function dodajCartEvent(){$(".btn-line").click(dodajUKorpu)}function dodajUKorpu(){console.log("korpa");let i=$(this).data("id");var e=proizvodiUKorpi();e?e.filter(e=>e.id==i).length?function(){let e=proizvodiUKorpi();for(let a in e)if(e[a].id==i){e[a].kolicina++;break}localStorage.setItem("products",JSON.stringify(e))}():function(){let e=proizvodiUKorpi();e.push({id:i,kolicina:1}),localStorage.setItem("products",JSON.stringify(e))}():function(){let e=[];e[0]={id:i,kolicina:1},localStorage.setItem("products",JSON.stringify(e))}(),$(".uspesnoDodato").addClass("displayError"),setTimeout(()=>$(".uspesnoDodato").removeClass("displayError"),650)}function proizvodiUKorpi(){return JSON.parse(localStorage.getItem("products"))}function kolonaSlika(i){return`<div class="col-lg-4 col-sm-12 pl-0 pr-0 d-flex justify-content-center position-relative" data-aos="flip-up">\n  <img src="${i.slika.src}" alt="${i.slika.alt}" class="img-fluid">\n  <h1 class="position-absolute centered text-dark text-center naslovSlider">${i.naziv}</h1>\n  <a href="#shop" class="position-absolute bb_button bb_button--transparent bb_position"><span class="bb_button__text">Shop now</span></a>\n</div>`}function ispisNovogProizvoda(i){return`<div class="mix col-lg-3 col-md-6" data-aos="fade-up">\n  <div class="product-item">\n    <figure>\n      <img src="${i.slika.src}" alt="${i.slika.alt}">\n      <div class="bache">NEW</div>\n    </figure>\n    <div class="product-info">\n      <h6>${i.naziv}</h6>\n      <p>$${i.cena.novaCena}</p>\n      <button class="site-btn btn-line" data-id=${i.id}>ADD TO CART</button>\n    </div>\n  </div>\n</div>`}function ispisSaleProizvoda(i){return`<div class="mix col-lg-3 col-md-6" data-aos="fade-up">\n  <div class="product-item">\n    <figure>\n      <img src="${i.slika.src}" alt="${i.slika.alt}">\n      <div class="bache sale">SALE</div>\n    </figure>\n    <div class="product-info">\n      <h6>${i.naziv}</h6>\n      <p>$${i.cena.novaCena} <span><del>$${i.cena.staraCena}</del></span></p>\n      <button class="site-btn btn-line" data-id=${i.id}>ADD TO CART</button>\n    </div>\n  </div>\n</div>`}function ispisNormalProizvoda(i){return`<div class="mix col-lg-3 col-md-6" data-aos="fade-up">\n  <div class="product-item">\n    <figure>\n      <img src="${i.slika.src}" alt="${i.slika.alt}">\n    </figure>\n    <div class="product-info">\n      <h6>${i.naziv}</h6>\n      <p>$${i.cena.novaCena}</p>\n      <button class="site-btn btn-line" data-id=${i.id}>ADD TO CART</button>\n    </div>\n  </div>\n</div>`}